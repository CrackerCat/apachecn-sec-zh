# 零、序言

今天的渗透测试技术充斥着过于简单的图形用户界面。尽管易于使用，但它们通常很少控制它们执行的操作，也不能为用户提供非常有用的体验。另一个缺点是，许多安全评估解决方案的利用只是为了识别和自动利用最明显和未混淆的漏洞实例。对于漏洞的每一个其他实际实例，渗透测试人员都需要依赖自己的脚本和评估工具。

优秀的渗透测试人员的基本技能至少包括脚本或软件利用语言的基本技能，如 bash 脚本、Python、Go、Ruby 等。这样一来，他们就可以使用自己定制的工具处理奇怪和异常的漏洞实例，并能够根据自己的条件自动进行安全测试。防火墙、入侵检测/预防系统和其他安全监控解决方案正变得越来越智能，而作为渗透测试人员，我们打败它们的唯一方法就是学习构建自己的工具，以“武器化”我们的命令行。

这本书介绍了一些基本技能、技巧、技巧和命令行驱动的实用程序，世界各地的最佳渗透测试人员使用这些工具来确保他们尽可能多地控制自己的测试活动。任何有兴趣介绍自己的命令行，特别是渗透测试或渗透测试作为一个整体，将受益于阅读本书。

# 这本书涵盖的内容

[第一章](1.html "Chapter 1. Getting to Know Bash")*了解 Bash*，向读者介绍使用 Bash 终端所涉及的基本概念。它涵盖了一些实用程序，读者会发现这些实用程序对渗透测试人员、系统管理员和面向安全的利用人员的日常活动很有帮助。

[第 2 章](2.html "Chapter 2. Customizing Your Shell")*定制 Shell*重点介绍读者可用于定制 Shell 行为以满足其需求的技巧和窍门。它向读者展示了如何自定义光标以格式化文本，如何安全地控制命令历史记录，如何使用别名，以及如何启用制表符补全以使命令行实用程序更加用户友好和易于使用。

[第 3 章](3.html "Chapter 3. Network Reconnaissance")*网络侦察*介绍了读者可用于执行目标枚举和从常见网络服务中过滤信息的命令行实用程序。本章介绍了许多工具，包括 Dnsmap、Nmap 和 Whois 等，以及将这些工具与其他命令行工具集成的有用方法。

[第 4 章](4.html "Chapter 4. Exploitation and Reverse Engineering")*利用和逆向工程*重点展示和讨论了基本的逆向工程和基于主机的利用命令行驱动工具。本章介绍了 msfcli、msfpayload、GNU gdb 等工具和各种技术，并展示了读者如何在 bash 脚本的帮助下以有用的方式组合这些工具。

[第 5 章](5.html "Chapter 5. Network Exploitation and Monitoring")*网络利用和监控*将重点转移到读者在日常渗透测试中可能使用的网络利用工具和实用程序。本章介绍了 arpsoof、Ettercap 和 SSLyze 等工具，还向读者介绍了有用的 bash 脚本和命令，这些脚本和命令优化了这些命令的使用，并自动化了许多常见任务。

# 这本书你需要什么

本书唯一的软件要求是 Kali Linux 操作系统，您可以从[下载 ISO 格式的操作系统 http://www.kali.org](http://www.kali.org) 。

# 这本书是给谁的

任何有兴趣学习如何使用 Kali Linux 命令行执行有效的渗透测试、自动化常见任务并更加熟练地使用常用工具解决面向安全的技术问题的人都可以阅读《命令行黑客》一书。渗透测试、安全测试、系统管理和安全工程的新手将从本书中受益匪浅。

# 公约

在这本书中，你会发现许多不同类型的文本可以区分不同类型的信息。下面是这些风格的一些例子，并解释了它们的含义。

文本中的代码如下所示：“`[FILE]`或`[DIRECTORY]`参数可以是您希望触发`ls`的任何路径或文件。”

代码块设置如下：

```
#!/bin/bash
HOST=$1
SSL_PORT=$2
KEY_LEN_LIMIT=$3
VULN_SUIT_LIST=$4
echo -e "[*] assessing host \e[3;36m $HOST:$SSL_PORT\e[0m"
for cipher in `sslyze --regular $HOST:$SSL_PORT | awk -F\  '/[0-9]* bits/ { print $1"_"$2"_"$3 }'`
```

当我们希望提请您注意代码块的特定部分时，相关行或项目以粗体显示：

```
if [ "$color_prompt" = yes ]; then
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\n\$'
else
 PS1='${debian_chroot:+($debian_chroot)}{\j}\u@[\w]\n\$'
fi
unset color_prompt force_color_prompt 
```

任何命令行输入或输出的编写方式如下：

```
medusa –h 192.168.10.105 –u k3170makan –P /usr/share/wordlists/rockyou.txt –M ssh

```

**新术语**和**重要词语**以粗体显示。例如，您在屏幕上、菜单或对话框中看到的文字会出现在文本中，如下所示：“**全局正则表达式打印**（**grep**实用程序是所有命令行管理员的常用工具。”

### 注

警告或重要注释显示在这样的框中。

### 提示

提示和技巧如下所示。

# 读者反馈

我们欢迎读者的反馈。让我们知道你对这本书的看法你喜欢或可能不喜欢什么。读者反馈对于我们利用您真正从中获益最多的标题非常重要。

要向我们发送一般反馈，只需向`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`发送电子邮件，并通过邮件主题提及书名即可。

如果您对某个主题有专业知识，并且您有兴趣撰写或贡献一本书，请参阅我们的作者指南，网址为[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

既然您是一本 Packt 图书的骄傲拥有者，我们有很多东西可以帮助您从购买中获得最大收益。

## 下载示例代码

您可以下载您在[账户购买的所有 Packt 书籍的示例代码文件 http://www.packtpub.com](http://www.packtpub.com) 。如果您在其他地方购买了本书，您可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support) 并注册，将文件直接通过电子邮件发送给您。

## 勘误表

虽然我们已尽一切努力确保内容的准确性，但错误确实会发生。如果您在我们的一本书中发现错误，可能是文本或代码中的错误，如果您能向我们报告，我们将不胜感激。通过这样做，您可以使其他读者免于沮丧，并帮助我们改进本书的后续版本。如果您发现任何错误，请访问[进行报告 http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata) ，选择您的书籍，点击**勘误表****提交****表单**链接，输入您勘误表的详细信息。一旦您的勘误表得到验证，您的提交将被接受，勘误表将上传到我们的网站上，或添加到该标题勘误表部分的任何现有勘误表列表中。通过从[中选择您的标题，可以查看任何现有勘误表 http://www.packtpub.com/support](http://www.packtpub.com/support) 。

## 盗版

在互联网上盗版版权材料是所有媒体的一个持续问题。在 Packt，我们非常重视版权和许可证的保护。如果您在互联网上发现我们作品的任何形式的非法复制品，请立即向我们提供地址或网站名称，以便我们采取补救措施。

请致电`<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`与我们联系，并提供可疑盗版材料的链接。

我们感谢您在保护我们的作者方面的帮助，以及我们为您带来有价值内容的能力。

## 问题

如果您对本书的任何方面有疑问，请致电`<[questions@packtpub.com](mailto:questions@packtpub.com)>`与我们联系，我们将尽力解决。