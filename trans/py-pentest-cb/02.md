# 设置 Python 环境

在本章中，我们将介绍以下配方：

*   在 Linux 中设置 Python 环境
*   在 macOS 中设置 Python 环境
*   在 Windows 中设置 Python 环境

# 介绍

在本章中，我们将学习如何在您的机器上设置 Python。默认情况下，除 Windows 以外的大多数操作系统都已安装 Python 解释器。要检查是否安装了 Python 解释器，您可以打开一个命令行窗口，在提示符中键入`python`并点击*Enter*键——您将得到如下结果：

![](../images/00005.jpeg)

您可以从 Python 官方网站[获得最新和最新版本的 Python 二进制文件和源代码 https://www.python.org/](https://www.python.org/) 。

# 在 Linux 中设置 Python 环境

让我们一步一步地在 Linux 系统上设置 Python 环境。首先，我们可以学习在默认情况下未安装 Python 的情况下安装 Python。

# 准备

因为我们有许多不同风格的 Linux 发行版中的包管理器，比如`apt`/`apt-get`和`dpkg`。对于基于 Debian 的发行版，例如 Ubuntu、`yum`（Yellowdog）用于 CentOS/RHEL，以及`zypper`和`yast`用于 SuSE Linux，这些包管理器将帮助我们在 Linux 发行版中轻松安装 Python。这样，您只需发出一个命令，包管理器就会搜索所需的包及其依赖项，下载包，并将它们安装到您的系统中。

# 怎么做。。。

首先，必须在系统上安装 Python。

# 安装 Python

1.  如果您使用的是基于 Debian 的发行版，如 Ubuntu，则可以通过以下方式安装 Python：

```
$ sudo apt-get install python
```

如果系统运行 CentOS/RHEL，请使用以下命令安装 Python：

```
$ sudo yum install python  
```

如果是 SuSE Linux 发行版，请使用以下命令安装 Python：

```
$ sudo yum install python 
```

2.  在终端中使用以下命令检查已安装 Python 解释器的版本：

```
$ python -version  
```

这将打印当前安装的 Python 版本。

3.  如果您想安装特定版本的 Python，我们可以从[获取 Python 源代码 https://www.python.org/](https://www.python.org/) 网站，手动安装。为此，您可以从[下载所需的源文件 https://www.python.org/ftp/python/](https://www.python.org/ftp/python/) 。

您可以使用以下命令下载：；请确保将版本号替换为所需的版本号：

```
$ wget https://www.python.org/ftp/python/3.6.2/Python-3.6.2.tgz      
```

4.  然后，我们必须使用以下命令提取下载的存档文件：

```
$ tar -xvzf Python-3.6.2.tgz    
```

它将被提取到一个`Python-3.6.2`文件夹中。

5.  现在您可以配置、构建和安装 Python，为此，您需要在系统上安装一个 C 编译器。如果未安装，您可以按如下方式执行：

```
$ sudo apt-get install gcc
```

```
$ yum install gcc
```

然后，您可以运行 configure 来配置构建，然后使用`make altinstall`命令安装构建：

```
$ cd Python-3.6.2
$ ./configure --prefix=/usr/local
$ make altinstall  
```

安装后，您可以看到系统上安装了两个版本的 Python，并且可以在运行脚本时选择要使用的版本。

# 建立虚拟环境

现在，您可以学习设置一个虚拟环境，这将有助于设置一个独立的脚本环境。这将帮助我们在不同的位置保持不同项目所需的依赖关系。此外，它有助于保持全局站点包的干净，并与项目依赖项分开：

1.  您可以使用`pip`在系统中安装虚拟环境模块：

```
$ pip install virtualenv 
```

2.  然后使用以下方法测试安装：

```
$ virtualenv --version 
```

3.  尝试在您的`project`文件夹中创建一个新的虚拟环境：

```
$ mkdir new-project-folder
$ cd new-project-folder
$ virtualenv new-project
```

这将在当前目录中创建一个名为`new-project`的文件夹。

如果您想使用您选择的 Python 解释器创建一个虚拟环境，如下所示：

```
$ virtualenv -p /usr/bin/python3 new-project  
```

4.  您可以通过以下方式激活此虚拟环境：

```
$ source new-project/bin/activate  
```

5.  如果已在虚拟环境中完成工作，则可以通过以下操作停用并退出虚拟环境：

```
$ deactivate  
```

6.  我们可以使用`virtualenvwrapper`使其更简单。`virtualenvwrapper`有助于将所有虚拟环境保持在一个位置。要安装`virtualenvwrapper`我们可以使用`pip`命令：

```
$ pip install virtualenvwrapper  
```

我们必须设置`WORKON_HOME`变量，即保存所有虚拟环境的文件夹：

```
$ export WORKON_HOME=~/Envs
$ source /usr/local/bin/virtualenvwrapper.sh  
```

7.  通过`virtualenvwrapper`我们可以创建如下项目：

```
$ mkvirtualenv new-project  
```

这将在`WORKON_HOME`内部创建虚拟环境，即`~/Envs`。

8.  要激活创建的项目，可以使用以下命令：

```
$ workon new-project    
```

9.  更容易的是，我们可以通过一个命令创建一个虚拟环境和`project`文件夹，如下所示：

```
$ mkproject new-project    
```

10.  最后，我们可以使用`deactivate`命令本身退出虚拟环境。

# 设置编辑器或 IDE

最后，您需要一个文本编辑器或 IDE 来编辑脚本。由于 Python 程序只是可以直接编辑的文本文件，如果您没有最喜欢的文本编辑器，**sublime text3**是一个不错的选择：

1.  要安装 sublime text3，您可以从[下载最新版本 https://www.sublimetext.com/3](https://www.sublimetext.com/3) 。
2.  您可以使用以下命令从命令行安装 sublime text3：

```
$ sudo add-apt-repository ppa:webupd8team/sublime-text-3
$ sudo apt-get update
$ sudo apt-get install sublime-text-installer
```

3.  如果你能为 sublime text3 安装`Anaconda`软件包就更好了。要安装它，请使用键盘快捷键*Ctrl+Shift*+*P*并键入`install`。这将显示一个选项包控件：安装包。

![](../images/00006.jpeg)

4.  选择此选项并搜索包`Anaconda`。选择要安装的软件包。

![](../images/00007.jpeg)

# 在 macOS 中设置 Python 环境

同样，在 Linux 环境中，macOS 也默认安装了 Python。但您需要了解基本的安装步骤，因为这将有助于更新和重新安装。

# 准备

首先，如果尚未安装 Xcode，请从应用商店安装 Xcode。然后使用以下命令更新命令行工具：

```
$ xcode-select --install 
```

此外，我们需要为 macOS 安装`Homebrew,`软件包管理器，用于该开放终端，并键入以下命令：

```
$ ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"  
```

# 怎么做。。。

现在您可以使用`Homebrew`包管理器在 macOS 中安装 Python。

# 安装 Python

1.  在`Homebrew`中搜索我们可以安装的选项：

```
$ brew search python 
```

这将得到如下结果：

![](../images/00008.jpeg)

2.  要安装 Python 3，可以运行以下命令：

```
$ brew install python3  
```

与 Python 3 一起，`brew`将安装`pip3`和`setuptools`。

3.  要设置虚拟环境和`virtualenvwrapper`，您可以按照与 Linux 环境相同的步骤进行操作。
4.  要安装 sublime text3，请从[获取软件包 https://www.sublimetext.com/3](https://www.sublimetext.com/3) 并运行安装程序。配置 Sublime text 3 的所有其他功能与 Linux 环境中的相同。

# 在 Windows 中设置 Python 环境

默认情况下，Windows 中未安装 Python 解释器。所以我们必须下载并安装 Python。

# 怎么做。。。

我们可以从官方网站下载 Python 并将其安装到您的系统中。执行以下步骤：

1.  进入 Python 官方网站（[http://python.org/download/](http://python.org/download/) 下载最新版本的 Windows MSI 安装程序。
2.  运行安装程序。
3.  您可以选择为所有用户安装 launcher 的选项（推荐），然后单击立即安装以完成安装。

![](../images/00009.jpeg)

4.  安装完成后，如果您可以将您的版本的默认 Python 目录添加到`PATH`中会更好。

如果您在`C:\Python36\`中安装了 Python，则应在`PATH`--`C:\Python36\;C:\Python36\Scripts\`中添加以下目录。

为此，请导航到我的计算机|属性|高级系统设置|环境变量并编辑`PATH`变量以添加新目录。

![](../images/00010.jpeg)

5.  现在您可以安装虚拟环境和`virtualenvwrapper`，就像我们为其他环境所做的那样。
6.  此外，您还可以下载并安装 sublime text 3 作为编辑器。